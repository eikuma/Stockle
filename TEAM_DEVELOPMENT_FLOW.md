# Stockle ãƒãƒ¼ãƒ é–‹ç™ºãƒ•ãƒ­ãƒ¼

## ğŸ“‹ æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€PdMï¼ˆãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼‰1åã¨ãƒ¡ãƒ³ãƒãƒ¼3åã®è¨ˆ4åã§Stockleãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ç™ºã™ã‚‹éš›ã®ã€Git Worktreeã‚’æ´»ç”¨ã—ãŸä¸¦åˆ—é–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©ã—ã¾ã™ã€‚

## ğŸ‘¥ ãƒãƒ¼ãƒ æ§‹æˆ

| å½¹å‰² | æ‹…å½“è€… | è²¬ä»»ç¯„å›² | ãƒ–ãƒ©ãƒ³ãƒåãƒ‘ã‚¿ãƒ¼ãƒ³ |
|------|--------|----------|------------------|
| **PdM** | Claude Code 1 | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ãƒ»çµ±åˆãƒ»æœ€çµ‚PRä½œæˆ | `feature/<phase>-integration` |
| **Member 1** | Claude Code 2 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º | `feature/<phase>-frontend` |
| **Member 2** | Claude Code 3 | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŸºç›¤é–‹ç™º | `feature/<phase>-backend-infra` |
| **Member 3** | Claude Code 4 | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½ãƒ»AIçµ±åˆé–‹ç™º | `feature/<phase>-backend-features` |

â€» `<phase>`ã¯é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºã«å¿œã˜ã¦å¤‰æ›´ï¼ˆä¾‹: phase1, phase2, mvp, v2ãªã©ï¼‰

## ğŸ”„ é–‹ç™ºãƒ•ãƒ­ãƒ¼

### 1. åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆå…¨å“¡ï¼‰

```bash
# ãƒ¡ã‚¤ãƒ³ãƒªãƒã‚¸ãƒˆãƒªã§æœ€æ–°ã®çŠ¶æ…‹ã‚’å–å¾—
git checkout main
git pull origin main

# ç¾åœ¨ã®ãƒ•ã‚§ãƒ¼ã‚ºã‚’å®šç¾©ï¼ˆä¾‹: phase1, phase2, mvp, etc.ï¼‰
PHASE="phase1"  # ã¾ãŸã¯ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦ export PHASE=phase1

# å„ãƒ¡ãƒ³ãƒãƒ¼ãŒè‡ªåˆ†ã®worktreeã‚’ä½œæˆ
# PdM
git worktree add -b feature/${PHASE}-integration worktree-integration

# Member 1 (Frontend)
git worktree add -b feature/${PHASE}-frontend worktree-frontend

# Member 2 (Backend Infrastructure)
git worktree add -b feature/${PHASE}-backend-infra worktree-backend-infra

# Member 3 (Backend Features)
git worktree add -b feature/${PHASE}-backend-features worktree-backend-features
```

### 2. ä¸¦åˆ—é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

å„ãƒ¡ãƒ³ãƒãƒ¼ã¯è‡ªåˆ†ã®worktreeãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ç‹¬ç«‹ã—ã¦ä½œæ¥­ã—ã¾ã™ï¼š

```bash
# ä¾‹ï¼šMember 1ã®ä½œæ¥­
cd worktree-frontend
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚’å®Ÿæ–½
npm install
npm run dev
# ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "feat(frontend): å®Ÿè£…å†…å®¹ã®èª¬æ˜"
git push origin feature/${PHASE}-frontend
```

### 3. æ—¥æ¬¡åŒæœŸï¼ˆæ¨å¥¨ï¼‰

```bash
# å„ãƒ¡ãƒ³ãƒãƒ¼ã®worktreeã§
git fetch origin
git rebase origin/main  # ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒã‚ã‚‹å ´åˆã¯è§£æ±º
```

### 4. çµ±åˆãƒ•ã‚§ãƒ¼ã‚ºï¼ˆPdMä¸»å°ï¼‰

å„ãƒ¡ãƒ³ãƒãƒ¼ã®ä½œæ¥­ãŒå®Œäº†ã—ãŸã‚‰ã€PdMãŒçµ±åˆä½œæ¥­ã‚’å®Ÿæ–½ï¼š

```bash
# PdMã®worktreeã§ä½œæ¥­
cd worktree-integration

# æœ€æ–°ã®mainã‚’å–å¾—
git fetch origin
git rebase origin/main

# å„ãƒ¡ãƒ³ãƒãƒ¼ã®ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒãƒ¼ã‚¸
# 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®çµ±åˆ
git fetch origin feature/${PHASE}-frontend
git merge origin/feature/${PHASE}-frontend -m "feat: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ã‚’çµ±åˆ"

# 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŸºç›¤ã®çµ±åˆ
git fetch origin feature/${PHASE}-backend-infra
git merge origin/feature/${PHASE}-backend-infra -m "feat: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŸºç›¤å®Ÿè£…ã‚’çµ±åˆ"

# 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½ã®çµ±åˆ
git fetch origin feature/${PHASE}-backend-features
git merge origin/feature/${PHASE}-backend-features -m "feat: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½ãƒ»AIçµ±åˆã‚’çµ±åˆ"

# çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿæ–½
docker-compose up -d
npm run test:integration
```

### 5. Pull Requestä½œæˆï¼ˆPdMï¼‰

çµ±åˆãŒå®Œäº†ã—ã€å…¨ã¦ã®ãƒ†ã‚¹ãƒˆãŒé€šã£ãŸã‚‰ï¼š

```bash
# çµ±åˆãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥
git push origin feature/${PHASE}-integration

# GitHub CLIã§PRä½œæˆ
gh pr create \
  --base main \
  --head feature/${PHASE}-integration \
  --title "feat: ${PHASE} å®Ÿè£…å®Œäº†" \
  --body "$(cat <<'EOF'
## æ¦‚è¦
${PHASE}ã®å®Ÿè£…ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚

## å®Ÿè£…å†…å®¹
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: èªè¨¼UIã€è¨˜äº‹ç®¡ç†UI
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŸºç›¤: GoåŸºç›¤ã€èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã€è¨˜äº‹ç®¡ç†API
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½: AIçµ±åˆã€è¦ç´„ç”Ÿæˆæ©Ÿèƒ½

## ãƒ†ã‚¹ãƒˆçµæœ
- âœ… å˜ä½“ãƒ†ã‚¹ãƒˆ: å…¨ã¦åˆæ ¼
- âœ… çµ±åˆãƒ†ã‚¹ãƒˆ: å…¨ã¦åˆæ ¼
- âœ… E2Eãƒ†ã‚¹ãƒˆ: å…¨ã¦åˆæ ¼

## ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [x] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿
- [x] ãƒ†ã‚¹ãƒˆå®Ÿæ–½æ¸ˆã¿
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°æ¸ˆã¿
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯æ¸ˆã¿

ğŸ¤– Generated with Claude Code
EOF
)"
```

## ğŸ“ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type
- `feat`: æ–°æ©Ÿèƒ½
- `fix`: ãƒã‚°ä¿®æ­£
- `docs`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `style`: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£
- `refactor`: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- `test`: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- `chore`: ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã‚„ãƒ„ãƒ¼ãƒ«ã®å¤‰æ›´

### Scope
- `frontend`: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–¢é€£
- `backend`: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–¢é€£
- `infra`: ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»DevOpsé–¢é€£
- `ai`: AIæ©Ÿèƒ½é–¢é€£

### ä¾‹
```
feat(frontend): è¨˜äº‹ä¸€è¦§ç”»é¢ã®UIå®Ÿè£…

- ã‚°ãƒªãƒƒãƒ‰/ãƒªã‚¹ãƒˆè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã‚’è¿½åŠ 
- ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å®Ÿè£…
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ

Resolves: #123
```

## ğŸš¨ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±º

### äºˆé˜²ç­–
1. **å®šæœŸçš„ãªåŒæœŸ**: æ—¥æ¬¡ã§origin/mainã‚’rebase
2. **å°ã•ãªã‚³ãƒŸãƒƒãƒˆ**: æ©Ÿèƒ½å˜ä½ã§ç´°ã‹ãã‚³ãƒŸãƒƒãƒˆ
3. **æ—©æœŸçµ±åˆ**: å®Œæˆã—ãŸæ©Ÿèƒ½ã‹ã‚‰é †æ¬¡çµ±åˆ

### è§£æ±ºæ‰‹é †
```bash
# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã—ãŸå ´åˆ
git status  # ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
# ã‚¨ãƒ‡ã‚£ã‚¿ã§ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ±º
git add <resolved-files>
git rebase --continue
```

## ğŸ”§ Worktreeç®¡ç†ã‚³ãƒãƒ³ãƒ‰

```bash
# worktreeä¸€è¦§è¡¨ç¤º
git worktree list

# worktreeå‰Šé™¤
git worktree remove worktree-frontend

# ä¸è¦ãªworktreeã‚’æ•´ç†
git worktree prune
```

## ğŸ“Š é€²æ—ç®¡ç†

### æ—¥æ¬¡ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒƒãƒ—ï¼ˆä»®æƒ³ï¼‰
å„ãƒ¡ãƒ³ãƒãƒ¼ã¯ä»¥ä¸‹ã‚’å…±æœ‰ï¼š
1. æ˜¨æ—¥å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯
2. ä»Šæ—¥å–ã‚Šçµ„ã‚€ã‚¿ã‚¹ã‚¯
3. ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã‚„èª²é¡Œ

### é€±æ¬¡çµ±åˆ
- é‡‘æ›œæ—¥: å„ãƒ¡ãƒ³ãƒãƒ¼ã®æˆæœç‰©ã‚’çµ±åˆ
- åœŸæ›œæ—¥: çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿæ–½
- æ—¥æ›œæ—¥: æ¬¡é€±ã®è¨ˆç”»ç­–å®š

## âš¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **ç‹¬ç«‹æ€§ã®ç¶­æŒ**
   - ä»–ãƒ¡ãƒ³ãƒãƒ¼ã®ä½œæ¥­é ˜åŸŸã«ç›´æ¥å¤‰æ›´ã‚’åŠ ãˆãªã„
   - å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯äº‹å‰ã«èª¿æ•´

2. **ãƒ†ã‚¹ãƒˆã®é‡è¦æ€§**
   - æ©Ÿèƒ½å®Ÿè£…ã¨åŒæ™‚ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
   - çµ±åˆå‰ã«è‡ªåˆ†ã®æ‹…å½“ç¯„å›²ã®ãƒ†ã‚¹ãƒˆã‚’å®Œäº†

3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**
   - å®Ÿè£…ã¨åŒæ™‚ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°
   - APIã®å¤‰æ›´ã¯å¿…ãšOpenAPIä»•æ§˜ã‚’æ›´æ–°

4. **ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**
   - å¤§ããªè¨­è¨ˆå¤‰æ›´ã¯äº‹å‰ã«å…±æœ‰
   - ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã¯æ—©ã‚ã«å ±å‘Š

## ğŸ¯ æˆåŠŸã®æŒ‡æ¨™

- **é–‹ç™ºé€Ÿåº¦**: ä¸¦åˆ—ä½œæ¥­ã«ã‚ˆã‚Šé–‹ç™ºæœŸé–“ã‚’50%çŸ­ç¸®
- **å“è³ª**: ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã‚’ç¶­æŒ
- **çµ±åˆåŠ¹ç‡**: çµ±åˆæ™‚ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’æœ€å°åŒ–

---

ã“ã®ãƒ•ãƒ­ãƒ¼ã«å¾“ã†ã“ã¨ã§ã€4äººã®ãƒãƒ¼ãƒ ãŒåŠ¹ç‡çš„ã«ä¸¦åˆ—é–‹ç™ºã‚’é€²ã‚ã€é«˜å“è³ªãªãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’è¿…é€Ÿã«é–‹ç™ºã§ãã¾ã™ã€‚