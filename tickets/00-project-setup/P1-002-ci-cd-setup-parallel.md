# P1-002: CI/CD„Éë„Ç§„Éó„É©„Ç§„É≥ÊßãÁØâÔºà‰∏¶ÂàóÂÆüË°åÁâàÔºâ

## Ê¶ÇË¶Å
GitHub Actions„Çí‰ΩøÁî®„Åó„ÅüCI/CD„Éë„Ç§„Éó„É©„Ç§„É≥„ÅÆÊßãÁØâÔºà‰ΩúÊ•≠ÂàÜÊãÖÁâàÔºâ

## ÊãÖÂΩìËÄÖ„Å®‰ΩúÊ•≠ÂàÜÊãÖ
**PdM‰∏ªÂ∞é + ÂêÑ„É°„É≥„Éê„ÉºÂçîÂäõ‰ΩìÂà∂**

### üéØ PdM (Claude Code) ÊãÖÂΩì‰ΩúÊ•≠
**Êé®ÂÆöÊôÇÈñì**: 8ÊôÇÈñì

#### 1. GitHub ActionsÂü∫Áõ§ÊßãÁØâ
- [ ] `.github/workflows/` „Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê
- [ ] „ÉØ„Éº„ÇØ„Éï„É≠„ÉºÂÆüË°åÊ®©Èôê„ÅÆË®≠ÂÆö
- [ ] Secrets„ÅÆË®≠ÂÆöÔºàDB_PASSWORD, JWT_SECRETÁ≠âÔºâ
- [ ] Áµ±Âêà„ÉÜ„Çπ„ÉàÁî®„ÉØ„Éº„ÇØ„Éï„É≠„Éº„ÅÆ‰ΩúÊàê

#### 2. „Çª„Ç≠„É•„É™„ÉÜ„Ç£„Çπ„Ç≠„É£„É≥Ë®≠ÂÆö
- [ ] Dependabot„ÅÆË®≠ÂÆöÔºà`.github/dependabot.yml`Ôºâ
- [ ] CodeQL„Å´„Çà„ÇãËÑÜÂº±ÊÄß„Çπ„Ç≠„É£„É≥Ë®≠ÂÆö
- [ ] Secrets„Çπ„Ç≠„É£„É≥„ÅÆË®≠ÂÆö
- [ ] OWASP ZAP „Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÉÜ„Çπ„ÉàË®≠ÂÆö

#### 3. „Éá„Éó„É≠„Ç§„É°„É≥„ÉàË®≠ÂÆö
- [ ] StagingÁí∞Â¢É„Å∏„ÅÆ„Éá„Éó„É≠„Ç§Ë®≠ÂÆö
- [ ] ProductionÁí∞Â¢É„Å∏„ÅÆ„Éá„Éó„É≠„Ç§Ë®≠ÂÆöÔºàÊ∫ñÂÇôÔºâ
- [ ] Áí∞Â¢ÉÂ§âÊï∞„ÅÆÁÆ°ÁêÜÊñπÈáùÁ≠ñÂÆö
- [ ] „É≠„Éº„É´„Éê„ÉÉ„ÇØÊ©üËÉΩ„ÅÆË®≠Ë®à

#### 4. Áµ±ÂêàCI/CD„ÉØ„Éº„ÇØ„Éï„É≠„Éº
- [ ] Pull RequestÊôÇ„ÅÆÁµ±Âêà„ÉÜ„Çπ„Éà
- [ ] „Éû„Éº„Ç∏ÊôÇ„ÅÆËá™Âãï„Éá„Éó„É≠„Ç§Ë®≠ÂÆö
- [ ] ÈÄöÁü•Ë®≠ÂÆöÔºàSlack/DiscordÈÄ£Êê∫Ôºâ

### üéØ Member 1 (Frontend) ÊãÖÂΩì‰ΩúÊ•≠
**Êé®ÂÆöÊôÇÈñì**: 3ÊôÇÈñì

#### 1. „Éï„É≠„É≥„Éà„Ç®„É≥„ÉâCIË®≠ÂÆö
- [ ] `.github/workflows/frontend-ci.yml` „ÅÆ‰ΩúÊàê
- [ ] Node.js 18„ÅÆ„Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóË®≠ÂÆö
- [ ] npm cacheË®≠ÂÆö
- [ ] ESLint„Å´„Çà„ÇãÈùôÁöÑËß£ÊûêË®≠ÂÆö

#### 2. „Éï„É≠„É≥„Éà„Ç®„É≥„Éâ„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] TypeScriptÂûã„ÉÅ„Çß„ÉÉ„ÇØË®≠ÂÆö
- [ ] Jest/Vitest„É¶„Éã„ÉÉ„Éà„ÉÜ„Çπ„ÉàÂÆüË°åË®≠ÂÆö
- [ ] „Éì„É´„Éâ„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] E2E„ÉÜ„Çπ„ÉàÊ∫ñÂÇôÔºàPlaywrightÔºâ

#### 3. „Éï„É≠„É≥„Éà„Ç®„É≥„ÉâÂìÅË≥™„ÉÅ„Çß„ÉÉ„ÇØ
- [ ] Prettier„Å´„Çà„Çã„Éï„Ç©„Éº„Éû„ÉÉ„Éà„ÉÅ„Çß„ÉÉ„ÇØ
- [ ] „Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] „Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„ÉÜ„Çπ„ÉàË®≠ÂÆö

### üéØ Member 2 (Backend Infrastructure) ÊãÖÂΩì‰ΩúÊ•≠
**Êé®ÂÆöÊôÇÈñì**: 4ÊôÇÈñì

#### 1. „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâCIË®≠ÂÆö
- [ ] `.github/workflows/backend-ci.yml` „ÅÆ‰ΩúÊàê
- [ ] Go 1.21„ÅÆ„Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóË®≠ÂÆö
- [ ] Go modules cacheË®≠ÂÆö
- [ ] go vet„Å´„Çà„ÇãÈùôÁöÑËß£ÊûêË®≠ÂÆö

#### 2. „Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] golangci-lint„Å´„Çà„ÇãË©≥Á¥∞„ÉÅ„Çß„ÉÉ„ÇØË®≠ÂÆö
- [ ] go test„Å´„Çà„Çã„É¶„Éã„ÉÉ„Éà„ÉÜ„Çπ„ÉàÂÆüË°åË®≠ÂÆö
- [ ] „É¨„Éº„Çπ„Ç≥„É≥„Éá„Ç£„Ç∑„Éß„É≥„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] „Éì„É´„Éâ„ÉÜ„Çπ„ÉàË®≠ÂÆö

#### 3. „Éá„Éº„Çø„Éô„Éº„ÇπCIË®≠ÂÆö
- [ ] MySQL 8.0„ÉÜ„Çπ„Éà„Ç≥„É≥„ÉÜ„Éä„ÅÆ„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó
- [ ] „Éû„Ç§„Ç∞„É¨„Éº„Ç∑„Éß„É≥„ÉÜ„Çπ„Éà„ÅÆË®≠ÂÆö
- [ ] „ÉÜ„Çπ„Éà„Éá„Éº„ÇøÊäïÂÖ•Ë®≠ÂÆö
- [ ] „Éá„Éº„Çø„Éô„Éº„ÇπÊé•Á∂ö„ÉÜ„Çπ„ÉàË®≠ÂÆö

### üéØ Member 3 (Backend Features) ÊãÖÂΩì‰ΩúÊ•≠
**Êé®ÂÆöÊôÇÈñì**: 2ÊôÇÈñì

#### 1. AIÁµ±Âêà„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] AI API„É¢„ÉÉ„ÇØ„ÉÜ„Çπ„Éà„ÅÆË®≠ÂÆö
- [ ] API „É¨„Éº„ÉàÂà∂Èôê„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÊ©üËÉΩ„ÉÜ„Çπ„ÉàË®≠ÂÆö

#### 2. ÈùûÂêåÊúüÂá¶ÁêÜ„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] Redis„Ç≥„É≥„ÉÜ„Éä„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] „Ç∏„Éß„Éñ„Ç≠„É•„Éº„ÉÜ„Çπ„ÉàË®≠ÂÆö
- [ ] ÈùûÂêåÊúüÂá¶ÁêÜ„Çø„Ç§„É†„Ç¢„Ç¶„Éà„ÉÜ„Çπ„ÉàË®≠ÂÆö

## üìã ÂêÑ„ÉØ„Éº„ÇØ„Éï„É≠„Éº„Éï„Ç°„Ç§„É´„ÅÆË©≥Á¥∞

### Member 1‰ΩúÊàê: .github/workflows/frontend-ci.yml
```yaml
name: Frontend CI

on:
  push:
    branches: [main, develop]
    paths: ['frontend/**']
  pull_request:
    branches: [main]
    paths: ['frontend/**']

jobs:
  test:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./frontend

    strategy:
      matrix:
        node-version: [18, 20]

    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Setup Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v4
      with:
        node-version: ${{ matrix.node-version }}
        cache: 'npm'
        cache-dependency-path: './frontend/package-lock.json'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run ESLint
      run: npm run lint
    
    - name: Run Prettier check
      run: npm run format:check
    
    - name: Run TypeScript check
      run: npm run type-check
    
    - name: Run unit tests
      run: npm test -- --coverage --watchAll=false
    
    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3
      with:
        file: ./frontend/coverage/lcov.info
        flags: frontend
    
    - name: Build application
      run: npm run build
    
    - name: Run E2E tests
      run: npm run test:e2e
      if: matrix.node-version == 18  # E2E„ÉÜ„Çπ„Éà„ÅØ1„Å§„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Åß„ÅÆ„ÅøÂÆüË°å

  lighthouse:
    runs-on: ubuntu-latest
    needs: test
    if: github.event_name == 'pull_request'
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 18
        cache: 'npm'
        cache-dependency-path: './frontend/package-lock.json'
    
    - name: Install dependencies
      working-directory: ./frontend
      run: npm ci
    
    - name: Build application
      working-directory: ./frontend
      run: npm run build
    
    - name: Run Lighthouse CI
      working-directory: ./frontend
      run: npx lhci autorun
```

### Member 2‰ΩúÊàê: .github/workflows/backend-ci.yml
```yaml
name: Backend CI

on:
  push:
    branches: [main, develop]
    paths: ['backend/**']
  pull_request:
    branches: [main]
    paths: ['backend/**']

jobs:
  test:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./backend

    strategy:
      matrix:
        go-version: [1.21, 1.22]

    services:
      mysql:
        image: mysql:8.0
        env:
          MYSQL_ROOT_PASSWORD: testpassword
          MYSQL_DATABASE: readlater_test
          MYSQL_USER: readlater_test
          MYSQL_PASSWORD: testpassword
        ports:
          - 3306:3306
        options: >-
          --health-cmd="mysqladmin ping --silent"
          --health-interval=10s
          --health-timeout=5s
          --health-retries=3

      redis:
        image: redis:7-alpine
        ports:
          - 6379:6379
        options: >-
          --health-cmd="redis-cli ping"
          --health-interval=10s
          --health-timeout=5s
          --health-retries=3

    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Setup Go ${{ matrix.go-version }}
      uses: actions/setup-go@v4
      with:
        go-version: ${{ matrix.go-version }}
        cache-dependency-path: './backend/go.sum'
    
    - name: Install dependencies
      run: go mod download
    
    - name: Verify dependencies
      run: go mod verify
    
    - name: Run go vet
      run: go vet ./...
    
    - name: Run golangci-lint
      uses: golangci/golangci-lint-action@v3
      with:
        version: latest
        working-directory: ./backend
        args: --timeout=5m
    
    - name: Run tests
      run: |
        go test -v -race -coverprofile=coverage.out ./...
        go tool cover -html=coverage.out -o coverage.html
      env:
        DB_HOST: localhost
        DB_PORT: 3306
        DB_USER: readlater_test
        DB_PASSWORD: testpassword
        DB_NAME: readlater_test
        REDIS_URL: redis://localhost:6379
        JWT_SECRET: test-jwt-secret
        GROQ_API_KEY: test-groq-key
        ANTHROPIC_API_KEY: test-anthropic-key
    
    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3
      with:
        file: ./backend/coverage.out
        flags: backend
    
    - name: Build application
      run: go build -v -o stockle-api ./cmd/api
    
    - name: Test binary execution
      run: |
        chmod +x stockle-api
        timeout 10s ./stockle-api || if [ $? -eq 124 ]; then echo "Binary started successfully"; else exit $?; fi

  security:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Setup Go
      uses: actions/setup-go@v4
      with:
        go-version: 1.21
    
    - name: Run Gosec Security Scanner
      uses: securecodewarrior/github-action-gosec@master
      with:
        args: '-fmt sarif -out gosec.sarif ./...'
        working-directory: ./backend
    
    - name: Upload SARIF file
      uses: github/codeql-action/upload-sarif@v2
      with:
        sarif_file: gosec.sarif
```

### PdM‰ΩúÊàê: .github/workflows/integration-test.yml
```yaml
name: Integration Test

on:
  pull_request:
    branches: [main]
  push:
    branches: [main]

jobs:
  integration-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 18
        cache: 'npm'
        cache-dependency-path: './frontend/package-lock.json'
    
    - name: Setup Go
      uses: actions/setup-go@v4
      with:
        go-version: 1.21
        cache-dependency-path: './backend/go.sum'
    
    - name: Start services
      run: |
        docker-compose up -d mysql redis
        sleep 30  # Wait for services to be ready
    
    - name: Install frontend dependencies
      working-directory: ./frontend
      run: npm ci
    
    - name: Install backend dependencies
      working-directory: ./backend
      run: go mod download
    
    - name: Build backend
      working-directory: ./backend
      run: go build -o stockle-api ./cmd/api
    
    - name: Start backend server
      working-directory: ./backend
      run: |
        export DB_HOST=localhost
        export DB_PORT=3306
        export DB_USER=readlater_app
        export DB_PASSWORD=secure_password
        export DB_NAME=readlater_db
        export JWT_SECRET=integration-test-secret
        export GROQ_API_KEY=${{ secrets.GROQ_API_KEY_TEST }}
        export ANTHROPIC_API_KEY=${{ secrets.ANTHROPIC_API_KEY_TEST }}
        ./stockle-api &
        sleep 10
    
    - name: Build frontend
      working-directory: ./frontend
      run: |
        export NEXT_PUBLIC_API_URL=http://localhost:8080
        npm run build
    
    - name: Run integration tests
      run: |
        # API „Éò„É´„Çπ„ÉÅ„Çß„ÉÉ„ÇØ
        curl -f http://localhost:8080/api/v1/health
        
        # Áµ±Âêà„ÉÜ„Çπ„Éà„Çπ„ÇØ„É™„Éó„ÉàÂÆüË°å
        chmod +x ./scripts/integration-test.sh
        ./scripts/integration-test.sh
    
    - name: Stop services
      if: always()
      run: docker-compose down
```

## üîÑ ‰∏¶ÂàóÂÆüË°å„Çπ„Ç±„Ç∏„É•„Éº„É´

### Day 1: CIË®≠ÂÆö‰ΩúÊàêÔºàÂêÑËá™2-3ÊôÇÈñìÔºâ
**ÂçàÂâç**:
- PdM: GitHub ActionsÂü∫Áõ§ + „Çª„Ç≠„É•„É™„ÉÜ„Ç£„Çπ„Ç≠„É£„É≥Ë®≠ÂÆö
- Member 1: „Éï„É≠„É≥„Éà„Ç®„É≥„ÉâCIË®≠ÂÆö‰ΩúÊàê
- Member 2: „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâCIË®≠ÂÆö‰ΩúÊàê
- Member 3: AIÁµ±Âêà„ÉÜ„Çπ„ÉàË®≠ÂÆö‰ΩúÊàê

**ÂçàÂæå**:
- ÂÖ®Âì°: ÂêÑËá™„ÅÆË®≠ÂÆö„Çí„Éó„ÉÉ„Ç∑„É•
- PdM: Áµ±Âêà„ÉÜ„Çπ„ÉàË®≠ÂÆö‰ΩúÊàê
- ÂÖ®Âì°: CIÂãï‰ΩúÁ¢∫Ë™ç„Å®„Éá„Éê„ÉÉ„Ç∞

### Day 2: ÂìÅË≥™Âêë‰∏ä„ÉªÂÆåÊàêÔºàÂêÑËá™1-2ÊôÇÈñìÔºâ
**ÂçàÂâç**:
- PdM: „Éá„Éó„É≠„Ç§„É°„É≥„ÉàË®≠ÂÆö + ÈÄöÁü•Ë®≠ÂÆö
- Member 1: E2E/„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÉÜ„Çπ„ÉàË®≠ÂÆö
- Member 2: „Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÉÜ„Çπ„ÉàË®≠ÂÆö
- Member 3: ÈùûÂêåÊúüÂá¶ÁêÜ„ÉÜ„Çπ„ÉàË®≠ÂÆö

**ÂçàÂæå**:
- ÂÖ®Âì°: CI/CD„ÅÆÊúÄÁµÇÁ¢∫Ë™ç
- ÂÖ®Âì°: „Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÉªÂìÅË≥™„ÉÅ„Çß„ÉÉ„ÇØ

## ÂèóÂÖ•Êù°‰ª∂

### ÂøÖÈ†àÊù°‰ª∂ÔºàÂÖ®Âì°ÈÅîÊàêÂøÖË¶ÅÔºâ
- [ ] PR„ÅÆ‰ΩúÊàêÊôÇ„Å´Ëá™Âãï„ÅßCI„ÅåÂÆüË°å„Åï„Çå„Çã
- [ ] „Åô„Åπ„Å¶„ÅÆ„ÉÜ„Çπ„Éà„ÅåÈÄö„Çâ„Å™„ÅÑÂ†¥Âêà„ÅØ„Éû„Éº„Ç∏„Åå„Éñ„É≠„ÉÉ„ÇØ„Åï„Çå„Çã
- [ ] „Éï„É≠„É≥„Éà„Ç®„É≥„Éâ„Å®„Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ„ÅÆÂ§âÊõ¥„ÅåÁã¨Á´ã„Åó„Å¶„ÉÜ„Çπ„Éà„Åï„Çå„Çã
- [ ] „Çª„Ç≠„É•„É™„ÉÜ„Ç£„Çπ„Ç≠„É£„É≥„ÅåÂÆüË°å„Åï„Çå„Çã
- [ ] Áµ±Âêà„ÉÜ„Çπ„Éà„ÅåÊ≠£Â∏∏„Å´Âãï‰Ωú„Åô„Çã

### ÂìÅË≥™Êù°‰ª∂
- [ ] CI„ÅÆÂÆüË°åÊôÇÈñì„Åå10ÂàÜ‰ª•ÂÜÖ
- [ ] „ÉÜ„Çπ„Éà„Ç´„Éê„É¨„ÉÉ„Ç∏„Åå80%‰ª•‰∏ä
- [ ] ÈùôÁöÑËß£Êûê„Åß„Ç®„É©„Éº„Åå0‰ª∂
- [ ] „Çª„Ç≠„É•„É™„ÉÜ„Ç£„Çπ„Ç≠„É£„É≥„ÅßHigh/CriticalËÑÜÂº±ÊÄß„Åå0‰ª∂

## Êé®ÂÆöÊôÇÈñì
**ÂêàË®à17ÊôÇÈñì** (‰∏¶ÂàóÂÆüË°å„Å´„Çà„Çä2Êó•„ÅßÂÆå‰∫Ü)
- PdM: 8ÊôÇÈñì
- Member 1: 3ÊôÇÈñì
- Member 2: 4ÊôÇÈñì
- Member 3: 2ÊôÇÈñì

## ‰æùÂ≠òÈñ¢‰øÇ
- P1-001: „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂü∫Áõ§„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„ÅÆÂÆå‰∫Ü
- ÂêÑ„É°„É≥„Éê„Éº„ÅÆÂü∫Áõ§„Ç≥„Éº„Éâ„ÅåÂ∞ë„Å™„Åè„Å®„ÇÇ‰∏ÄÈÉ®ÂÆåÊàê„Åó„Å¶„ÅÑ„ÇãÂøÖË¶Å

## ÂÆå‰∫ÜÂæå„ÅÆÊ¨°„Çπ„ÉÜ„ÉÉ„Éó
1. ÂêÑ„É°„É≥„Éê„Éº„ÅÆPR‰ΩúÊàêÊôÇ„ÅÆCIÂãï‰ΩúÁ¢∫Ë™ç
2. Áµ±Âêà„ÉÜ„Çπ„Éà„ÅÆÂÆüË°åÁ¢∫Ë™ç
3. „Éá„Éó„É≠„Ç§„É°„É≥„Éà„ÉÜ„Çπ„Éà„ÅÆÂÆüË°å

## ÂÇôËÄÉ
- CI„ÅåÂ§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØÂÑ™ÂÖàÁöÑ„Å´‰øÆÊ≠£„Åô„Çã„Åì„Å®
- „Çª„Ç≠„É•„É™„ÉÜ„Ç£„Ç¢„É©„Éº„Éà„ÅØÂç≥Â∫ß„Å´ÂØæÂøú„Åô„Çã„Åì„Å®
- „Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÅÆÂïèÈ°å„Åå„ÅÇ„Çå„Å∞‰∏¶ÂàóÂÆüË°å„ÇíÊ§úË®é„Åô„Çã„Åì„Å®
- ÂêÑ„É°„É≥„Éê„Éº„ÅØËá™ÂàÜ„ÅÆÊãÖÂΩìÈ†òÂüü„ÅÆCIË®≠ÂÆö„Å´Ë≤¨‰ªª„ÇíÊåÅ„Å§